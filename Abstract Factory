#include <iostream>
using namespace std;

// ---------------- Products ----------------
class Button {
public:
    virtual void render() = 0;
    virtual ~Button() = default;
};

class Checkbox {
public:
    virtual void render() = 0;
    virtual ~Checkbox() = default;
};

// ---------------- Light Products ----------------
class LightButton : public Button {
public:
    void render() override {
        cout << "Rendering Light Button\n";
    }
};

class LightCheckbox : public Checkbox {
public:
    void render() override {
        cout << "Rendering Light Checkbox\n";
    }
};

// ---------------- Dark Products ----------------
class DarkButton : public Button {
public:
    void render() override {
        cout << "Rendering Dark Button\n";
    }
};

class DarkCheckbox : public Checkbox {
public:
    void render() override {
        cout << "Rendering Dark Checkbox\n";
    }
};

// ---------------- Abstract Factory ----------------
class UIFactory {
public:
    virtual Button* createButton() = 0;
    virtual Checkbox* createCheckbox() = 0;
    virtual ~UIFactory() = default;
};

// ---------------- Concrete Factories ----------------
class LightThemeFactory : public UIFactory {
public:
    Button* createButton() override {
        return new LightButton();
    }

    Checkbox* createCheckbox() override {
        return new LightCheckbox();
    }
};

class DarkThemeFactory : public UIFactory {
public:
    Button* createButton() override {
        return new DarkButton();
    }

    Checkbox* createCheckbox() override {
        return new DarkCheckbox();
    }
};

// ---------------- Client ----------------
int main() {
    bool darkMode = true;

    UIFactory* factory;

    if (darkMode) {
        factory = new DarkThemeFactory();
    } else {
        factory = new LightThemeFactory();
    }

    Button* button = factory->createButton();
    Checkbox* checkbox = factory->createCheckbox();

    button->render();
    checkbox->render();

    delete button;
    delete checkbox;
    delete factory;

    return 0;
}
